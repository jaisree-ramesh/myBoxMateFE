@use 'variables'
@use 'mixins'

* 
    box-sizing: border-box


html, body
    background-color: variables.$background-color
    font-family: variables.$font-family
    overflow-x: hidden
    margin: 0 auto
    padding: 0

h1, h2, h3, h4, h5, h6
    color: variables.$headings-color
    font-weight: variables.$headings-font-weight

h1
    font-size: variables.$h1-text-size

p
    color: variables.$text-color
    font-size: variables.$paragraph-text-size

ul 
    padding-inline-start: 0

    li 
        list-style-type: none

a
    text-decoration: none
    color: variables.$text-color

a, button
    cursor: pointer
    border: none

.container
    width: 100%
    height: auto
    padding: 4rem

/* logo */

.logo-container
    img
        width: variables.$small-img

.logo-container, .home-image
    .image-props
        .image-wrapper
            span
                display: none

/* navigation item */

.navigation-item 
    ul
        @include mixins.flex-gap

        a
            display: inline-block
            padding: 0.5rem 1rem
            text-transform: capitalize

            &:hover
                color: variables.$headings-color

.navigation
    padding: 1rem 4rem

.menu-item 
    background: variables.$button-background-color
    border-radius: 10px

    &:hover
        background: transparent
        border: 1px solid variables.$button-border-color

.menu-link
    color: variables.$menu-link-color
    text-transform: uppercase

/* opened menu */

.opened-menu
    position: fixed
    top: 0
    right: 0
    width: 30vw
    height: 100%
    background-color: variables.$orange
    padding: 0
    transform: translateX(100%) 
    transition: transform 0.3s ease-in-out
    z-index: 2
    border-radius: 40px 0 0 40px

    span
        display: none

    .opened-menu-logo 
        img
            width: 8rem
            position: absolute
            z-index: 3
            top: 0.5rem
            left: 0.5rem

    .close-menu 
        img
            position: absolute
            right: 2rem
            top: 2rem

    &.open
        transform: translateX(0)

    .navigation-item
        padding: 0

        ul
            @include mixins.flex-column-start
            height: inherit
            margin-top: 5rem

    a
        width: 100%
        color: variables.$menu-link-color
        text-transform: uppercase
        font-weight: 900
        text-align: left
        font-size: variables.$menu-link-size

    .opened-menu-wrapper
        border-top: 1px solid variables.$menu-link-color
        border-bottom: 1px solid variables.$menu-link-color
        position: absolute
        top: 4rem
        bottom: 4rem
        left: 2rem
        right: 2rem  

        .languages-wrapper // This class is in the LanguageSwitcher component
            @include mixins.flex-end
            padding-top: 1rem
            gap: 1rem

            .selected-language
                background-color: variables.$dark-brown
                border: 2px solid variables.$dark-brown

            button
                background-color: transparent
                border: 2px solid variables.$menu-link-color
                border-radius: 5px
                padding: 0.5rem
                color: variables.$menu-link-color

                &:hover
                    background-color: variables.$dark-brown
                    border: 2px solid variables.$dark-brown


/* header */

.header-navigation
    @include mixins.flex-space-between-center

/* home */

.home-main-container
    @include mixins.flex-center
    width: 100%
    padding: 0 0 2rem 0

    .home-text
        padding: 0 0 0 4rem
        white-space: pre-line

    .home-image 
        img
            width: 50vw


.button-container
    .button-wrapper
        @include mixins.flex-gap

    .button-bg
        background-color: variables.$button-background-color
        color: variables.$button-text-color

    .button 
        padding: 0.75rem 1.5rem
        border-radius: 6px
        text-decoration: none
        display: inline-block
        transition: all 0.3s ease
        border: 2px solid variables.$button-border-color

/* Spaces */

.spaces-container, .organize-container
    width: 100vw
    background-color: variables.$ice
    -webkit-box-shadow: variables.$card-box-shadow
    box-shadow: variables.$card-box-shadow

/* Clickable Image Spaces */
.spaces-content
    padding: 2rem 4rem
    width: 100%
    .image-props
        display: grid
        grid-template-columns: repeat(auto-fit, minmax(clamp(80px, 10vw, 120px), 1fr))
        gap: 1rem
        width: 100%

        .image-wrapper
            @include mixins.flex-center 
            position: relative
            width: 100%
            aspect-ratio: 1

            span
                width: 100%
                text-align: center
                position: absolute
                bottom: 0
                left: 50%
                transform: translateX(-50%)
                background: rgba(160, 82, 45, 0.7)
                color: white
                padding: 4px 8px
                font-size: clamp(0.7rem, 1vw, 0.9rem)
                opacity: 0
                transition: opacity .2s
                pointer-events: none
                border-radius: 0 0 10px 10px

            &:hover span
                opacity: 1

            img
                width: 100%
                height: 100%
                object-fit: contain
                border-radius: 10px
                box-shadow: variables.$card-box-shadow
                -webkit-box-shadow: variables.$card-box-shadow
                background: variables.$white
                padding: clamp(0.5rem, 2vw, 1.5rem)

/* Displayed Spaces Grid */
.spaces-container
    .spaces-grid
        display: grid
        grid-template-columns: repeat(auto-fill, minmax(200px, 1fr))
        gap: 1rem
        padding: 1rem

/* footer */

footer
    width: inherit
    position: relative
    bottom: 0


    .footer-navigation
        @include mixins.flex-gap-center
        padding: 2rem 0


/* animations */

.animate__slideInRight
    -webkit-animation-name: slideInRight
    animation-name: slideInRight

.animate__slideOutRight
    -webkit-animation-name: slideOutRight
    animation-name: slideOutRight

/* animated components */

.opened-menu.open
    animation: slideInRight
    animation-duration: 1.2s


/* media queries */

@media screen and ( min-width: variables.$breakpoint-xxl )
    .home-main-container
        .home-text
            padding: 0 0 0 4rem

@media screen and ( max-width: variables.$breakpoint-lg )
    .navigation
        padding: 1rem 2rem

    .home-main-container
        @include mixins.flex-column-center-reverse
        text-align: center

        .home-text
            padding: 0 2rem 2rem 2rem

        .home-image img
            width: 70vw

    .opened-menu
        width: 40vw

    .button-container
        .button-wrapper
            @include mixins.flex-column-center

            .button 
                width: 80vw

@media screen and ( max-width: variables.$breakpoint-md-lg )
    .spaces-content
        padding: 2rem 3rem
        
        .image-props
            gap: 3rem 1rem
            .image-wrapper
                span
                    bottom: -2rem
                    opacity: 1
                    color: variables.$dark-grey
                    background: transparent



@media screen and ( max-width: variables.$breakpoint-md )

    footer
        .footer-navigation
            @include mixins.flex-column-start
            gap: 0.5rem

            .navigation-item ul
                @include mixins.flex-column-start
                gap: 0


@media screen and ( max-width: variables.$breakpoint-sm )
    .opened-menu
        width: 80vw

@media screen and ( max-width: variables.$breakpoint-xs )
    .spaces-content
        padding: 2rem 



/* Cards - test */


// Mixins
@mixin wood-texture
    background: linear-gradient(45deg, variables.$wood-color 25%, variables.$wood-light 25%, variables.$wood-light 50%, variables.$wood-color 50%, variables.$wood-color 75%, variables.$wood-light 75%)
    background-size: 10px 10px
    position: relative
    
    &::before
        content: ''
        position: absolute
        top: 0
        left: 0
        right: 0
        bottom: 0
        background: linear-gradient(90deg, transparent 0%, variables.$wood-grain 50%, transparent 100%)
        animation: grain 8s linear infinite

@keyframes grain
    0%
        transform: translateX(-100%)
    100%
        transform: translateX(100%)

// Modal Styles
.modal-overlay
    position: fixed
    top: 0
    left: 0
    right: 0
    bottom: 0
    background: rgba(138, 138, 138, 0.8)
    display: flex
    justify-content: center
    align-items: center
    z-index: 1000
    backdrop-filter: blur(10px)

.wood-box
    position: relative
    width: 80vw
    height: 80vh
    perspective: 1200px
    transform-style: preserve-3d

.box-base
    @include wood-texture
    position: absolute
    top: 0
    left: 0
    right: 0
    bottom: 0
    border: 15px solid variables.$wood-dark
    border-radius: 12px
    border-bottom: 18px solid darken(variables.$wood-dark, 15%)
    border-right: 18px solid darken(variables.$wood-dark, 15%)
    box-shadow: 0 20px 50px rgba(0, 0, 0, 0.6), inset 0 2px 8px rgba(255, 255, 255, 0.1)
    z-index: 1

.box-lid
    position: absolute
    background: variables.$wood-color
    border: 4px solid darken(variables.$wood-dark, 20%)
    box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.4), 0 3px 6px rgba(0, 0, 0, 0.4)
    transition: transform 0.1s ease
    z-index: 2
    
    &::before
        content: ''
        position: absolute
        top: 0
        left: 0
        right: 0
        bottom: 0
        @include wood-texture

// Individual lid pieces with opening animations
.box-lid-top
    top: -2.5rem
    left: 1.5rem
    right: 1.5rem
    height: 2.5rem
    transform-origin: bottom center
    animation: openTop 1.2s cubic-bezier(0.34, 1.56, 0.64, 1) forwards
    animation-delay: 0.3s
    transform: rotateX(-105deg)
    border-bottom: 5px solid darken(variables.$wood-dark, 25%)
    border-radius: 12px 12px 0 0

.box-lid-left
    top: 1.5rem
    left: -2.5rem
    bottom: 1.5rem
    width: 2.5rem
    transform-origin: right center
    animation: openLeft 1.2s cubic-bezier(0.34, 1.56, 0.64, 1) forwards
    animation-delay: 0.5s
    transform: rotateY(105deg)
    border-right: 5px solid darken(variables.$wood-dark, 25%)
    border-radius: 12px 0 0 12px

.box-lid-right
    top: 1.5rem
    right: -2.5rem
    bottom: 1.5rem
    width: 2.5rem
    transform-origin: left center
    animation: openRight 1.2s cubic-bezier(0.34, 1.56, 0.64, 1) forwards
    animation-delay: 0.7s
    transform: rotateY(-105deg)
    border-left: 5px solid darken(variables.$wood-dark, 25%)
    border-radius: 0 12px 12px 0

.box-lid-front
    bottom: -2.5rem
    left: 1.5rem
    right: 1.5rem
    height: 2.5rem
    transform-origin: top center
    animation: openFront 1.2s cubic-bezier(0.34, 1.56, 0.64, 1) forwards
    animation-delay: 0.9s
    transform: rotateX(105deg)
    border-top: 5px solid darken(variables.$wood-dark, 25%)
    border-radius: 0 0 12px 12px

.box-content
    position: absolute
    top: 1.5rem
    left: 1.5rem
    right: 1.5rem
    bottom: 1.5rem
    background: linear-gradient(160deg, #2c1810 0%, #3d2414 50%, #2c1810 100%)
    border-radius: 8px
    padding: 2.5rem
    overflow: auto
    opacity: 0
    animation: fadeInContent 0.8s ease-out forwards
    animation-delay: 1.4s
    box-shadow: inset 0 0 40px rgba(0, 0, 0, 0.7), 0 0 25px rgba(139, 69, 19, 0.4)
    border: 2px solid rgba(139, 69, 19, 0.6)
    z-index: 3
    
    &::before
        content: ''
        position: absolute
        top: 0
        left: 0
        right: 0
        bottom: 0
        background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" opacity="0.1"><rect fill="%238B4513" width="100" height="100"/></svg>')
        border-radius: 8px
        pointer-events: none

// Enhanced Opening Animations with bounce effect
@keyframes openTop
    0%
        transform: rotateX(-105deg)
    70%
        transform: rotateX(5deg)
    100%
        transform: rotateX(0deg)

@keyframes openLeft
    0%
        transform: rotateY(105deg)
    70%
        transform: rotateY(-5deg)
    100%
        transform: rotateY(0deg)

@keyframes openRight
    0%
        transform: rotateY(-105deg)
    70%
        transform: rotateY(5deg)
    100%
        transform: rotateY(0deg)

@keyframes openFront
    0%
        transform: rotateX(105deg)
    70%
        transform: rotateX(-5deg)
    100%
        transform: rotateX(0deg)

@keyframes fadeInContent
    0%
        opacity: 0
        transform: scale(0.9) translateY(20px)
    100%
        opacity: 1
        transform: scale(1) translateY(0)

// Responsive Design
@media (max-width: 768px)
    .wood-box
        width: 90vw
        height: 85vh
    
    .box-content
        padding: 1.5rem
        top: 1rem
        left: 1rem
        right: 1rem
        bottom: 1rem